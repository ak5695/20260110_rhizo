{
  "id": "2db893ee-36a9-4eb4-988c-38759388968d",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.binding_existence_cache": {
      "name": "binding_existence_cache",
      "schema": "",
      "columns": {
        "binding_id": {
          "name": "binding_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "element_exists": {
          "name": "element_exists",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "element_deleted": {
          "name": "element_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "mark_exists": {
          "name": "mark_exists",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_verified_at": {
          "name": "last_verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "cache_version": {
          "name": "cache_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_stale": {
          "name": "is_stale",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "cache_by_status_idx": {
          "name": "cache_by_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cache_by_stale_idx": {
          "name": "cache_by_stale_idx",
          "columns": [
            {
              "expression": "is_stale",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "binding_existence_cache_binding_id_document_canvas_bindings_id_fk": {
          "name": "binding_existence_cache_binding_id_document_canvas_bindings_id_fk",
          "tableFrom": "binding_existence_cache",
          "tableTo": "document_canvas_bindings",
          "columnsFrom": [
            "binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.binding_inconsistencies": {
      "name": "binding_inconsistencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "binding_id": {
          "name": "binding_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "detected_by": {
          "name": "detected_by",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "binding_status": {
          "name": "binding_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "element_deleted": {
          "name": "element_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "mark_exists": {
          "name": "mark_exists",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_resolution": {
          "name": "suggested_resolution",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_confidence": {
          "name": "resolution_confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_action": {
          "name": "resolution_action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot": {
          "name": "snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "inconsistencies_by_binding_idx": {
          "name": "inconsistencies_by_binding_idx",
          "columns": [
            {
              "expression": "binding_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inconsistencies_by_type_idx": {
          "name": "inconsistencies_by_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inconsistencies_by_resolved_idx": {
          "name": "inconsistencies_by_resolved_idx",
          "columns": [
            {
              "expression": "resolved_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "binding_inconsistencies_binding_id_document_canvas_bindings_id_fk": {
          "name": "binding_inconsistencies_binding_id_document_canvas_bindings_id_fk",
          "tableFrom": "binding_inconsistencies",
          "tableTo": "document_canvas_bindings",
          "columnsFrom": [
            "binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "binding_inconsistencies_resolved_by_user_id_fk": {
          "name": "binding_inconsistencies_resolved_by_user_id_fk",
          "tableFrom": "binding_inconsistencies",
          "tableTo": "user",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.binding_status_log": {
      "name": "binding_status_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "binding_id": {
          "name": "binding_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "previous_status": {
          "name": "previous_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "transition_type": {
          "name": "transition_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "transition_reason": {
          "name": "transition_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_id": {
          "name": "actor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "status_log_by_binding_idx": {
          "name": "status_log_by_binding_idx",
          "columns": [
            {
              "expression": "binding_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "status_log_by_timestamp_idx": {
          "name": "status_log_by_timestamp_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "status_log_by_actor_idx": {
          "name": "status_log_by_actor_idx",
          "columns": [
            {
              "expression": "actor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "binding_status_log_binding_id_document_canvas_bindings_id_fk": {
          "name": "binding_status_log_binding_id_document_canvas_bindings_id_fk",
          "tableFrom": "binding_status_log",
          "tableTo": "document_canvas_bindings",
          "columnsFrom": [
            "binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "binding_status_log_actor_id_user_id_fk": {
          "name": "binding_status_log_actor_id_user_id_fk",
          "tableFrom": "binding_status_log",
          "tableTo": "user",
          "columnsFrom": [
            "actor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.canvas_change_log": {
      "name": "canvas_change_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "canvas_id": {
          "name": "canvas_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_data": {
          "name": "change_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "previous_data": {
          "name": "previous_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vector_clock": {
          "name": "vector_clock",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "changelog_by_canvas_idx": {
          "name": "changelog_by_canvas_idx",
          "columns": [
            {
              "expression": "canvas_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "changelog_by_entity_idx": {
          "name": "changelog_by_entity_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "changelog_by_timestamp_idx": {
          "name": "changelog_by_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "canvas_change_log_canvas_id_canvases_id_fk": {
          "name": "canvas_change_log_canvas_id_canvases_id_fk",
          "tableFrom": "canvas_change_log",
          "tableTo": "canvases",
          "columnsFrom": [
            "canvas_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "canvas_change_log_user_id_user_id_fk": {
          "name": "canvas_change_log_user_id_user_id_fk",
          "tableFrom": "canvas_change_log",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.canvas_elements": {
      "name": "canvas_elements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "canvas_id": {
          "name": "canvas_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "x": {
          "name": "x",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "y": {
          "name": "y",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "width": {
          "name": "width",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "height": {
          "name": "height",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "angle": {
          "name": "angle",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "compound_node_id": {
          "name": "compound_node_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "z_index": {
          "name": "z_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "bound_block_id": {
          "name": "bound_block_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bound_semantic_node_id": {
          "name": "bound_semantic_node_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "binding_type": {
          "name": "binding_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "binding_metadata": {
          "name": "binding_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "binding_status": {
          "name": "binding_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "binding_provenance": {
          "name": "binding_provenance",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "elements_by_canvas_idx": {
          "name": "elements_by_canvas_idx",
          "columns": [
            {
              "expression": "canvas_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "elements_by_compound_idx": {
          "name": "elements_by_compound_idx",
          "columns": [
            {
              "expression": "compound_node_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "elements_by_bound_block_idx": {
          "name": "elements_by_bound_block_idx",
          "columns": [
            {
              "expression": "bound_block_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "elements_by_bound_node_idx": {
          "name": "elements_by_bound_node_idx",
          "columns": [
            {
              "expression": "bound_semantic_node_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "elements_spatial_idx": {
          "name": "elements_spatial_idx",
          "columns": [
            {
              "expression": "canvas_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "x",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "y",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "canvas_elements_canvas_id_canvases_id_fk": {
          "name": "canvas_elements_canvas_id_canvases_id_fk",
          "tableFrom": "canvas_elements",
          "tableTo": "canvases",
          "columnsFrom": [
            "canvas_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "canvas_elements_compound_node_id_compound_nodes_id_fk": {
          "name": "canvas_elements_compound_node_id_compound_nodes_id_fk",
          "tableFrom": "canvas_elements",
          "tableTo": "compound_nodes",
          "columnsFrom": [
            "compound_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "canvas_elements_bound_semantic_node_id_semantic_nodes_id_fk": {
          "name": "canvas_elements_bound_semantic_node_id_semantic_nodes_id_fk",
          "tableFrom": "canvas_elements",
          "tableTo": "semantic_nodes",
          "columnsFrom": [
            "bound_semantic_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.canvases": {
      "name": "canvases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Untitled Canvas'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "viewport_x": {
          "name": "viewport_x",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "viewport_y": {
          "name": "viewport_y",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "zoom": {
          "name": "zoom",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "last_edited_by": {
          "name": "last_edited_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "canvas_by_document_idx": {
          "name": "canvas_by_document_idx",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "canvas_by_user_idx": {
          "name": "canvas_by_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "canvases_document_id_documents_id_fk": {
          "name": "canvases_document_id_documents_id_fk",
          "tableFrom": "canvases",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "canvases_user_id_user_id_fk": {
          "name": "canvases_user_id_user_id_fk",
          "tableFrom": "canvases",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "canvases_last_edited_by_user_id_fk": {
          "name": "canvases_last_edited_by_user_id_fk",
          "tableFrom": "canvases",
          "tableTo": "user",
          "columnsFrom": [
            "last_edited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.collaboration_sessions": {
      "name": "collaboration_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "canvas_id": {
          "name": "canvas_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "connection_id": {
          "name": "connection_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cursor_position": {
          "name": "cursor_position",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "selected_elements": {
          "name": "selected_elements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_heartbeat": {
          "name": "last_heartbeat",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "connected_at": {
          "name": "connected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "disconnected_at": {
          "name": "disconnected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sessions_by_canvas_idx": {
          "name": "sessions_by_canvas_idx",
          "columns": [
            {
              "expression": "canvas_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_by_user_idx": {
          "name": "sessions_by_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_by_connection_idx": {
          "name": "sessions_by_connection_idx",
          "columns": [
            {
              "expression": "connection_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "collaboration_sessions_canvas_id_canvases_id_fk": {
          "name": "collaboration_sessions_canvas_id_canvases_id_fk",
          "tableFrom": "collaboration_sessions",
          "tableTo": "canvases",
          "columnsFrom": [
            "canvas_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "collaboration_sessions_user_id_user_id_fk": {
          "name": "collaboration_sessions_user_id_user_id_fk",
          "tableFrom": "collaboration_sessions",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "collaboration_sessions_connection_id_unique": {
          "name": "collaboration_sessions_connection_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "connection_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compound_nodes": {
      "name": "compound_nodes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "canvas_id": {
          "name": "canvas_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_compound_id": {
          "name": "parent_compound_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bounding_box_x": {
          "name": "bounding_box_x",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "bounding_box_y": {
          "name": "bounding_box_y",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "bounding_box_width": {
          "name": "bounding_box_width",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "bounding_box_height": {
          "name": "bounding_box_height",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "bound_block_id": {
          "name": "bound_block_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bound_semantic_node_id": {
          "name": "bound_semantic_node_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "binding_metadata": {
          "name": "binding_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "binding_status": {
          "name": "binding_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "binding_provenance": {
          "name": "binding_provenance",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "compounds_by_canvas_idx": {
          "name": "compounds_by_canvas_idx",
          "columns": [
            {
              "expression": "canvas_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "compounds_by_parent_idx": {
          "name": "compounds_by_parent_idx",
          "columns": [
            {
              "expression": "parent_compound_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "compounds_by_bound_block_idx": {
          "name": "compounds_by_bound_block_idx",
          "columns": [
            {
              "expression": "bound_block_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "compound_nodes_canvas_id_canvases_id_fk": {
          "name": "compound_nodes_canvas_id_canvases_id_fk",
          "tableFrom": "compound_nodes",
          "tableTo": "canvases",
          "columnsFrom": [
            "canvas_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "compound_nodes_parent_compound_id_compound_nodes_id_fk": {
          "name": "compound_nodes_parent_compound_id_compound_nodes_id_fk",
          "tableFrom": "compound_nodes",
          "tableTo": "compound_nodes",
          "columnsFrom": [
            "parent_compound_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "compound_nodes_bound_semantic_node_id_semantic_nodes_id_fk": {
          "name": "compound_nodes_bound_semantic_node_id_semantic_nodes_id_fk",
          "tableFrom": "compound_nodes",
          "tableTo": "semantic_nodes",
          "columnsFrom": [
            "bound_semantic_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_canvas_bindings": {
      "name": "document_canvas_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "block_id": {
          "name": "block_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "text_range": {
          "name": "text_range",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "semantic_node_id": {
          "name": "semantic_node_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "canvas_id": {
          "name": "canvas_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "element_id": {
          "name": "element_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compound_node_id": {
          "name": "compound_node_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "binding_type": {
          "name": "binding_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "anchor_text": {
          "name": "anchor_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "semantic_label": {
          "name": "semantic_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "provenance": {
          "name": "provenance",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_status": {
          "name": "current_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'visible'"
        },
        "status_updated_at": {
          "name": "status_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status_updated_by": {
          "name": "status_updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sync_errors": {
          "name": "sync_errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "bindings_by_document_idx": {
          "name": "bindings_by_document_idx",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bindings_by_canvas_idx": {
          "name": "bindings_by_canvas_idx",
          "columns": [
            {
              "expression": "canvas_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bindings_by_element_idx": {
          "name": "bindings_by_element_idx",
          "columns": [
            {
              "expression": "element_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bindings_by_compound_idx": {
          "name": "bindings_by_compound_idx",
          "columns": [
            {
              "expression": "compound_node_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bindings_by_status_idx": {
          "name": "bindings_by_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bindings_by_provenance_idx": {
          "name": "bindings_by_provenance_idx",
          "columns": [
            {
              "expression": "provenance",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bindings_by_current_status_idx": {
          "name": "bindings_by_current_status_idx",
          "columns": [
            {
              "expression": "current_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bindings_by_canvas_status_idx": {
          "name": "bindings_by_canvas_status_idx",
          "columns": [
            {
              "expression": "canvas_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "current_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_canvas_bindings_document_id_documents_id_fk": {
          "name": "document_canvas_bindings_document_id_documents_id_fk",
          "tableFrom": "document_canvas_bindings",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_canvas_bindings_semantic_node_id_semantic_nodes_id_fk": {
          "name": "document_canvas_bindings_semantic_node_id_semantic_nodes_id_fk",
          "tableFrom": "document_canvas_bindings",
          "tableTo": "semantic_nodes",
          "columnsFrom": [
            "semantic_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_canvas_bindings_canvas_id_canvases_id_fk": {
          "name": "document_canvas_bindings_canvas_id_canvases_id_fk",
          "tableFrom": "document_canvas_bindings",
          "tableTo": "canvases",
          "columnsFrom": [
            "canvas_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_canvas_bindings_compound_node_id_compound_nodes_id_fk": {
          "name": "document_canvas_bindings_compound_node_id_compound_nodes_id_fk",
          "tableFrom": "document_canvas_bindings",
          "tableTo": "compound_nodes",
          "columnsFrom": [
            "compound_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_canvas_bindings_reviewed_by_user_id_fk": {
          "name": "document_canvas_bindings_reviewed_by_user_id_fk",
          "tableFrom": "document_canvas_bindings",
          "tableTo": "user",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "document_canvas_bindings_status_updated_by_user_id_fk": {
          "name": "document_canvas_bindings_status_updated_by_user_id_fk",
          "tableFrom": "document_canvas_bindings",
          "tableTo": "user",
          "columnsFrom": [
            "status_updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "account_user_id_user_id_fk": {
          "name": "account_user_id_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_audit_log": {
      "name": "document_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "documentId": {
          "name": "documentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fieldChanged": {
          "name": "fieldChanged",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "oldValue": {
          "name": "oldValue",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "newValue": {
          "name": "newValue",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ipAddress": {
          "name": "ipAddress",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "userAgent": {
          "name": "userAgent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_by_document_idx": {
          "name": "audit_by_document_idx",
          "columns": [
            {
              "expression": "documentId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_by_user_idx": {
          "name": "audit_by_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_by_timestamp_idx": {
          "name": "audit_by_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_audit_log_documentId_documents_id_fk": {
          "name": "document_audit_log_documentId_documents_id_fk",
          "tableFrom": "document_audit_log",
          "tableTo": "documents",
          "columnsFrom": [
            "documentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_audit_log_userId_user_id_fk": {
          "name": "document_audit_log_userId_user_id_fk",
          "tableFrom": "document_audit_log",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_blocks": {
      "name": "document_blocks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "documentId": {
          "name": "documentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "props": {
          "name": "props",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "blocks_by_doc_order_idx": {
          "name": "blocks_by_doc_order_idx",
          "columns": [
            {
              "expression": "documentId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_blocks_documentId_documents_id_fk": {
          "name": "document_blocks_documentId_documents_id_fk",
          "tableFrom": "document_blocks",
          "tableTo": "documents",
          "columnsFrom": [
            "documentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.documents": {
      "name": "documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "isArchived": {
          "name": "isArchived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "parentDocumentId": {
          "name": "parentDocumentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "coverImage": {
          "name": "coverImage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "isPublished": {
          "name": "isPublished",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "migrationVersion": {
          "name": "migrationVersion",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "lastModifiedBy": {
          "name": "lastModifiedBy",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "by_user_idx": {
          "name": "by_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "by_user_parent_idx": {
          "name": "by_user_parent_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parentDocumentId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "by_updated_idx": {
          "name": "by_updated_idx",
          "columns": [
            {
              "expression": "updatedAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "documents_userId_user_id_fk": {
          "name": "documents_userId_user_id_fk",
          "tableFrom": "documents",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "documents_lastModifiedBy_user_id_fk": {
          "name": "documents_lastModifiedBy_user_id_fk",
          "tableFrom": "documents",
          "tableTo": "user",
          "columnsFrom": [
            "lastModifiedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.node_source_anchors": {
      "name": "node_source_anchors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "nodeId": {
          "name": "nodeId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "blockId": {
          "name": "blockId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "start_offset": {
          "name": "start_offset",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "end_offset": {
          "name": "end_offset",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "provenance": {
          "name": "provenance",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'AI'"
        },
        "is_locked": {
          "name": "is_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_anchors_block": {
          "name": "idx_anchors_block",
          "columns": [
            {
              "expression": "blockId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_anchors_node": {
          "name": "idx_anchors_node",
          "columns": [
            {
              "expression": "nodeId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "node_source_anchors_nodeId_semantic_nodes_id_fk": {
          "name": "node_source_anchors_nodeId_semantic_nodes_id_fk",
          "tableFrom": "node_source_anchors",
          "tableTo": "semantic_nodes",
          "columnsFrom": [
            "nodeId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "node_source_anchors_blockId_document_blocks_id_fk": {
          "name": "node_source_anchors_blockId_document_blocks_id_fk",
          "tableFrom": "node_source_anchors",
          "tableTo": "document_blocks",
          "columnsFrom": [
            "blockId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.qa_items": {
      "name": "qa_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'custom'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unasked'"
        },
        "answer": {
          "name": "answer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "qa_items_user_idx": {
          "name": "qa_items_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "qa_items_status_idx": {
          "name": "qa_items_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "qa_items_userId_user_id_fk": {
          "name": "qa_items_userId_user_id_fk",
          "tableFrom": "qa_items",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.semantic_edges": {
      "name": "semantic_edges",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "relation_type": {
          "name": "relation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "weight": {
          "name": "weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_edges_source": {
          "name": "idx_edges_source",
          "columns": [
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_edges_target": {
          "name": "idx_edges_target",
          "columns": [
            {
              "expression": "target_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "semantic_edges_source_id_semantic_nodes_id_fk": {
          "name": "semantic_edges_source_id_semantic_nodes_id_fk",
          "tableFrom": "semantic_edges",
          "tableTo": "semantic_nodes",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "semantic_edges_target_id_semantic_nodes_id_fk": {
          "name": "semantic_edges_target_id_semantic_nodes_id_fk",
          "tableFrom": "semantic_edges",
          "tableTo": "semantic_nodes",
          "columnsFrom": [
            "target_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.semantic_nodes": {
      "name": "semantic_nodes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_nodes_type": {
          "name": "idx_nodes_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_nodes_title": {
          "name": "idx_nodes_title",
          "columns": [
            {
              "expression": "title",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_unique_node": {
          "name": "idx_unique_node",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "title",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "semantic_nodes_userId_user_id_fk": {
          "name": "semantic_nodes_userId_user_id_fk",
          "tableFrom": "semantic_nodes",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_user_id_user_id_fk": {
          "name": "session_user_id_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "session_token_unique": {
          "name": "session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "banned": {
          "name": "banned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "banReason": {
          "name": "banReason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "banExpires": {
          "name": "banExpires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification": {
      "name": "verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.waitlist": {
      "name": "waitlist",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "waitlist_email_unique": {
          "name": "waitlist_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}